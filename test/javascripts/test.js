(function(){"use strict";var e=typeof window!="undefined"?window:global;if(typeof e.require=="function")return;var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var n=[],r,i;/^\.\.?(\/|$)/.test(t)?r=[e,t].join("/").split("/"):r=t.split("/");for(var s=0,o=r.length;s<o;s++)i=r[s],i===".."?n.pop():i!=="."&&i!==""&&n.push(i);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},o=function(t){return function(n){var r=s(t),o=i(r,n);return e.require(o)}},u=function(e,t){var r={id:e,exports:{}};t(r.exports,o(e),r);var i=n[e]=r.exports;return i},a=function(e){var s=i(e,".");if(r(n,s))return n[s];if(r(t,s))return u(s,t[s]);var o=i(s,"./index");if(r(n,o))return n[o];if(r(t,o))return u(o,t[o]);throw new Error('Cannot find module "'+e+'"')},f=function(e){for(var n in e)r(e,n)&&(t[n]=e[n])};e.require=a,e.require.define=f,e.require.brunch=!0})(),window.require.define({"test/app_test":function(e,t,n){var r,i;r=t("controllers/app"),i=t("models/stock"),describe("App",function(e){var t;return t=null,beforeEach(function(){return t=new r}),afterEach(function(){return t.release()}),it("can only add stock-items once",function(){var e;return t.add("BARC.L"),t.add("BARC.L"),t.add("BARC.L"),e=i.findAllByAttribute("symbol","BARC.L"),expect(e.length).to.equal(1)}),it("shows Stock-items when they are added",function(){return t.add("BARC.L",!0),expect(t.el).to.be.ok,expect(t.el.html()).to.match(/BARC\.L/)}),it("can remove Stock-items",function(){return t.add("BARC.L",!0),expect(t.el.html()).to.match(/BARC\.L/),$(t.el).find(".close").trigger("click"),expect(t.el.html()).to.not.match(/BARC\.L/)})})}}),window.require.define({"test/server_test":function(e,t,n){describe("Server",function(e){return it("gives a correct response",function(e){return $.ajax({url:"http://data.madebymark.nl/other/stockticker.php",data:{q:"BARC.L,GOOG,XXX"},dataType:"jsonp",success:function(t){var n,r;return expect(t).to.have.property("BARC.L"),expect(t).to.have.property("GOOG"),expect(t).to.have.property("XXX"),n=t.XXX,r=t.GOOG,expect(n).to.have.property("openingPrice","N/A"),expect(r.currentPrice).to.be.a("number"),expect(r.percentage).to.be.a("number"),expect(r).to.have.property("symbol","GOOG"),expect(r).to.have.property("name","Google Inc."),e()}})}),it("gives an error when no arguments are supplied",function(e){return $.ajax({url:"http://data.madebymark.nl/other/stockticker.php",dataType:"jsonp",success:function(t){return expect(t).to.equal("ERROR_NO_ARGUMENTS"),e()}})})})}}),window.require.define({"test/stock_test":function(e,t,n){var r;r=t("controllers/stock"),describe("Stock",function(e){var t;return t=null,beforeEach(function(){return t=new r({symbol:"TEST"})}),it("renders the stock template",function(){return expect($(t.el).find("div.header")).to.be.ok}),it('shows "loading" when no information has been retrieved',function(){return expect($(t.el).find(".loading")).to.be.not.empty,expect($(t.el).find(".loading").html()).to.match(/loading/i)}),it('show positive percentages in "green"',function(){var e;return e=new r({symbol:"TEST"}),e.model.currentPrice=10,e.model.percentage=.1,e.render(),expect(e.model.percentage).to.be.above(0),expect($(e.el).find(".percentage").attr("class")).to.match(/positive/)}),it('show negative percentages in "red"',function(){var e;return e=new r({symbol:"TEST"}),e.model.currentPrice=10,e.model.percentage=-0.1,e.render(),expect(e.model.percentage).to.be.below(0),expect($(e.el).find(".percentage").attr("class")).to.match(/negative/)}),it("animates a positive change with a green flash",function(e){var n;return t.model.currentPrice=10,t.render(),n=$(t.el).find(".body"),expect(n.attr("class")).to.match(/increase/),setTimeout(function(){return expect(n.attr("class")).to.not.match(/increase/),e()},1050)}),it("animates a negative change with a red flash",function(e){var n;return t.model.currentPrice=-10,t.render(),n=$(t.el).find(".body"),expect(n.attr("class")).to.match(/decrease/),setTimeout(function(){return expect(n.attr("class")).to.not.match(/decrease/),e()},1050)}),it("does not animate no change",function(){return t.render(),t.render(),expect($(t.el).find(".body").attr("class")).to.not.match(/(increase|decrease)/)}),it("releases the Stock element when the Stock model is destroyed",function(){var e;return e=$("<div>"),e.append(t.el),expect(e.html()).to.not.equal(""),t.model.destroy(),expect(e.html()).to.equal("")})})}}),window.require.define({"test/sync_test":function(e,t,n){var r,i;r=t("models/stock"),i=t("models/sync"),describe("Sync",function(e){return it("updates the stock collection",function(e){var t,n,s,o,u,a;i.stop(),r.deleteAll(),expect(r.all()).to.be.empty,t=function(){var t,n,i,s,o;t=0;for(n=0,s=(i=r.all()).length;n<s;++n)o=i[n],o.currentPrice>0&&t++;if(t===3)return e()};for(n=0,o=(s=["GOOG","BARC.L","CCC"]).length;n<o;++n)u=s[n],a=new r({symbol:u}),a.save(),a.bind("update",t);return expect(r.all().length).to.equal(3),i.sync()})})}}),window.require.define({"test/test-helpers":function(e,t,n){n.exports={expect:t("chai").expect,sinon:t("sinon"),$:t("jquery")}}}),window.require("test/app_test"),window.require("test/server_test"),window.require("test/stock_test"),window.require("test/sync_test")